<header>
    <h1>
        Ads - {{ pageTitle }}
    </h1>
    <div ng-show="isLogged">
        <span class="userName">{{authentication.getUser().username}} </span>
        <a href="#/" class="" ng-hide="!isLogged" ng-click="authentication.removeUser()">logout</a>
    </div>
</header>
<div id="wrapper" class="row">
    <div ng-include="'template/public/logged-sidebar.html'" class="col-md-2"></div>
    <form class="form-horizontal container col-md-4" >
        <fieldset>
            <legend>Publish New Ad</legend>
            <div class="form-group " >
                <label for="inputTitle" class="col-lg-2 control-label">Title</label>
                <div class="col-lg-9">
                    <input type="text" class="form-control" id="inputTitle" placeholder="Title" required ng-model="ad.title">
                </div>
            </div>

            <div class="form-group">
                <label for="inputText" class="col-lg-2 control-label">Text</label>
                <div class="col-lg-9">
                    <textarea class="form-control" id="inputText" placeholder="Text" required ng-model="ad.text"></textarea>
                </div>
            </div>
            <!--TODO implement upload image functionality-->
            <!--<div class="form-group">-->
                <!--<label for="inputImage" class="col-lg-2 control-label">Image</label>-->
                <!--<div class="col-lg-9">-->

                    <!--<div class="fileUpload btn form-btn">-->
                        <!--<span>{{buttonName}}</span>-->
                        <!--<input id="inputImage" type="file" name="file" ng-bind="image" onchange="angular.element(this).scope().uploadFile(this.files)"/>-->
                       <!--<img ng-src="{{image}}">-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->

            <div class="form-group " >
                <label  for="inputTown" class="col-lg-2 control-label">Town</label>
                <div class="col-lg-9">
                    <select  id="inputTown" class="form-control" ng-options="town.id as town.name for town in towns" ng-model="ad.townId">
                    </select>
                </div>
            </div>
            <div class="form-group " >
                <label  for="inputCategory" class="col-lg-2 control-label">Category</label>
                <div class="col-lg-9">
                    <select  id="inputCategory" class="form-control" ng-options="category.id as category.name for category in categories" ng-model="ad.categoryId">
                    </select>
                </div>
            </div>

            <div class="col-lg-10 col-lg-offset-2">
                <button type="submit" class="btn btn-info" ng-click="add(ad)">Publish</button>
                <a href="#/" class="btn btn-info btn-xs">Cancel</a>
            </div>
        </fieldset>
    </form>
</div>